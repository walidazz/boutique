{% extends 'base.html.twig' %}

{% block title %}Mes adresses {% endblock %}

{% block body %}

<div class="my-5">
    <h1>Mes adresses </h1>
    <p>C'est dans cet espace que vous allez gerer vos adresses !</p>
    <a class="btn btn-primary float-right" href="{{path('add_adress')}}">Ajouter une adresse </a>

    <hr>

    {% if app.user.adresses |length ==  0  %}

    <p class="text-center">Vous n'avez pas encore d'adresse enregistrée.</p>

    {% else %}
    <div class="row">


        {% for adress in app.user.adresses %}
        <div class="card border-success my-4 col-md-4 m-1">
            <div class="card-header bg-transparent border-success">{{adress.name}} </div>
            <div class="card-body text-success">
                <p>{{adress.firstName}} {{adress.lastName}}</p>

                <p> {{adress.adress}} {{adress.postal}} </p>
                <p>{{adress.city}} {{adress.country}}</p>
                <p>Tél: {{adress.phone}} </p>
                <p>Compagnie: {% if adress.company == null  %}
                    Non renseigné
                    {% else %}
                    {{adress.company}}
                    {% endif %} </p>

            </div>
            <div class="card-footer bg-transpar ent border-success">
                <a class="btn btn-primary " href="{{path('edit_adress' , {id : adress.id})}}">Modifier</a>
                <a class=" btn btn-warning" href="{{path('delete_adress', { id : adress.id })}}">Supprimer</a>
            </div>
        </div>
        {% endfor %}

    </div>
    {% endif %}
</div>
{% endblock %}